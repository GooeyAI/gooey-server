<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>{{ title }}</title>
    <link rel="icon" type="image/x-icon" href="/static/favicon.png">


    <!-- Primary Meta Tags -->
    <title>Meta Tags â€” Preview, Edit and Generate</title>
    <meta name="title" content="{{ title }}">
    {% if description %}
        <meta name="description" content="{{ description }}">
    {% endif %}

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="{{ request.url }}">
    <meta property="og:title" content="{{ title }}">
    {% if description %}
        <meta property="og:description" content="{{ description }}">
    {% endif %}
    {% if image %}
        <meta property="og:image" content="{{ image }}">
    {% endif %}

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="{{ request.url }}">
    <meta property="twitter:title" content="{{ title }}">
    {% if description %}
        <meta property="twitter:description" content="{{ description }}">
    {% endif %}
    {% if image %}
        <meta property="twitter:image" content="{{ image }}">
    {% endif %}

    <style>
        ::-webkit-scrollbar {
            background: transparent;
            color: white;
            width: 6px;
        }

        ::-webkit-scrollbar-thumb {
            background: gray;
            border-radius: 100px;
        }

        iframe {
            overflow-y: scroll;
            border: 0;
            margin: 0;
            padding: 0;
            width: 100%;
        }

        .login_info, .g_id_signin {
            position: absolute;
            top: 25px;
            right: 25px;
            text-align: center;
        }
    </style>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@400;600&display=swap');

        html, body {
            background-color: black;
            color: #03dac5;
            margin: 0;
            border: 0;
            padding: 0;
            font-family: 'Source Sans Pro', sans-serif;
        }

        a {
            text-decoration: none;
            color: #03dac5;
            font-size: 17px;
            font-weight: 600;
        }

        a:visited {
            color: #03dac5;
        }

        a:hover {
            color: #acd9d6;
        }

        .logo {
            width: 150px;
            padding-top: 20px;
            padding-bottom: 10px;
        }

        .header-links a {
            padding-right: 10px;
        }

        header {
            padding-left: 1rem;
        }

        @media (min-width: 576px) {
            header {
                padding-left: 5rem;
                padding-right: 5rem;
            }
        }
    </style>
</head>
<body>

<header>
    <a href="https://www.gooey.ai" target="_top">
        <img class="logo"
             src="https://storage.googleapis.com/dara-c1b52.appspot.com/gooey/gooey_logo_300x142.png"></img>
    </a>

    <div class="header-links">
        <a href="https://www.gooey.ai">Home</a>
        <a href="/">Explore</a>
        <a href="https://www.gooey.ai/pricing">Pricing</a>
        <a href="https://dara.network/privacy/">Privacy</a>
        <a href="https://dara.network/terms/">Terms</a>
    </div>
</header>

{% if user %}
    <div class="login_info">
        {{ user.name }}
        <br>
        <a href="/logout">Signout</a>
    </div>
{% else %}
    <script src="https://accounts.google.com/gsi/client" async defer></script>

    <div id="g_id_onload"
         data-client_id="6678571001-havdpq1g68ljt0qgsdln5s3k0tqau4a0.apps.googleusercontent.com"
         data-login_uri="/auth"
         data-auto_prompt="true">
    </div>

    <div class="g_id_signin"
         data-type="button"
         data-size="large"
         data-theme="filled_black"
         data-text="sign_in_with"
         data-shape="pill"
         data-logo_alignment="right">
    </div>
{% endif %}

<iframe onload="onIframeLoaded(this)"
        src="{{ iframe_url }}"
        allow="clipboard-read; clipboard-write; accelerometer; ambient-light-sensor; autoplay; battery; camera; document-domain; encrypted-media; fullscreen; geolocation; gyroscope; layout-animations; legacy-image-formats; magnetometer; microphone; midi; oversized-images; payment; picture-in-picture; publickey-credentials-get; sync-xhr; usb; vr ; wake-lock; xr-spatial-tracking">
</iframe>

<script>
    function onIframeLoaded(iframe) {
        window.addEventListener('message', function (event) {
            switch (event.data.type) {
                case "GOOEY_SET_QUERY_PARAM":
                    let searchParams = new URLSearchParams(window.location.search);
                    for (let [key, value] of Object.entries(event.data.queryParams)) {
                        searchParams.set(key, value);
                    }
                    let url = new URL(window.location.href);
                    url.search = searchParams.toString();
                    history.pushState(null, '', url.toString());
                case "GOOEY_IFRAME_RESIZE":
                    iframe.style.height = `${event.data.height + 100}px`;
            }
        });
    }
</script>

</body>
</html>